{"is_source_file": true, "format": "TypeScript", "description": "This file implements a custom React hook 'useFeatureFlags' that provides feature flagging capabilities by parsing environment variables or global window variables. It includes utility functions for parsing JSON and CSV strings into boolean flag maps, with internal coercion for various input types.", "external_files": [], "external_methods": ["useMemo (react)"], "published": ["useFeatureFlags"], "classes": [], "methods": [{"name": "function safeJsonParse<T = unknown>(value: string | undefined): T | undefined { safeJsonParse", "description": "Safely parse a string as JSON, returning undefined on failure.", "scope": "", "scopeKind": ""}, {"name": "function parseCsvFlags(csv: string | undefined): Record<string, boolean> { parseCsvFlags", "description": "Parse CSV string into a record of flags set to true.", "scope": "", "scopeKind": ""}, {"name": "function normalizeJsonFlags(input: unknown): Record<string, boolean> { normalizeJsonFlags", "description": "Normalize parsed JSON data into a map of string keys to boolean flags.", "scope": "", "scopeKind": ""}, {"name": "function coerceToBoolean(value: unknown): boolean { coerceToBoolean", "description": "Convert various input types into boolean values, interpreting common truthy strings and numbers.", "scope": "", "scopeKind": ""}, {"name": "export function useFeatureFlags() { useFeatureFlags", "description": "Main hook that retrieves and processes feature flags from environment variables or global state, returning the flags and a helper to check if a feature is enabled.", "scope": "", "scopeKind": ""}], "calls": ["JSON.parse", "useMemo"], "search-terms": ["useFeatureFlags", "Feature Flags", "React hook", "parseJson", "parseCsv", "feature flags", "environment variables"], "state": 2, "file_id": 23, "knowledge_revision": 115, "git_revision": "ae8a7905e1900ee72e465d42640a62dd80fe3d69", "revision_history": [{"68": ""}, {"69": ""}, {"109": "da7194f843325a3bab4a343e9f1588f069fd8a8b"}, {"110": "ae8a7905e1900ee72e465d42640a62dd80fe3d69"}, {"115": "ae8a7905e1900ee72e465d42640a62dd80fe3d69"}], "ctags": [{"_type": "tag", "name": "Window", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/hooks/useFeatureFlags.ts", "pattern": "/^  interface Window {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "__NEXT_PUBLIC_FEATURE_FLAGS__", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/hooks/useFeatureFlags.ts", "pattern": "/^    __NEXT_PUBLIC_FEATURE_FLAGS__?: unknown;$/", "language": "TypeScript", "kind": "property", "scope": "Window", "scopeKind": "interface"}, {"_type": "tag", "name": "__NEXT_PUBLIC_FEATURE_FLAGS__", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/hooks/useFeatureFlags.ts", "pattern": "/^  var __NEXT_PUBLIC_FEATURE_FLAGS__: unknown | undefined;$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "coerceToBoolean", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/hooks/useFeatureFlags.ts", "pattern": "/^function coerceToBoolean(value: unknown): boolean {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "flags", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/hooks/useFeatureFlags.ts", "pattern": "/^  const flags = useMemo<Record<string, boolean>>(() => {$/", "language": "TypeScript", "kind": "constant", "scope": "useFeatureFlags", "scopeKind": "function"}, {"_type": "tag", "name": "isEnabled", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/hooks/useFeatureFlags.ts", "pattern": "/^  const isEnabled = (name: string): boolean => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "item", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/hooks/useFeatureFlags.ts", "pattern": "/^    for (const item of input) {$/", "language": "TypeScript", "kind": "constant", "scope": "normalizeJsonFlags", "scopeKind": "function"}, {"_type": "tag", "name": "k", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/hooks/useFeatureFlags.ts", "pattern": "/^    for (const [k, v] of Object.entries(input as Record<string, unknown>)) {$/", "language": "TypeScript", "kind": "constant", "scope": "normalizeJsonFlags", "scopeKind": "function"}, {"_type": "tag", "name": "key", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/hooks/useFeatureFlags.ts", "pattern": "/^      const key = k.trim();$/", "language": "TypeScript", "kind": "constant", "scope": "normalizeJsonFlags", "scopeKind": "function"}, {"_type": "tag", "name": "normalizeJsonFlags", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/hooks/useFeatureFlags.ts", "pattern": "/^function normalizeJsonFlags(input: unknown): Record<string, boolean> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "out", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/hooks/useFeatureFlags.ts", "pattern": "/^  const out: Record<string, boolean> = {};$/", "language": "TypeScript", "kind": "constant", "scope": "normalizeJsonFlags", "scopeKind": "function"}, {"_type": "tag", "name": "parseCsvFlags", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/hooks/useFeatureFlags.ts", "pattern": "/^function parseCsvFlags(csv: string | undefined): Record<string, boolean> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/hooks/useFeatureFlags.ts", "pattern": "/^  const raw =$/", "language": "TypeScript", "kind": "constant", "scope": "useFeatureFlags", "scopeKind": "function"}, {"_type": "tag", "name": "safeJsonParse", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/hooks/useFeatureFlags.ts", "pattern": "/^function safeJsonParse<T = unknown>(value: string | undefined): T | undefined {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "useFeatureFlags", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/hooks/useFeatureFlags.ts", "pattern": "/^export function useFeatureFlags() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "v", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/hooks/useFeatureFlags.ts", "pattern": "/^    for (const [k, v] of Object.entries(input as Record<string, unknown>)) {$/", "language": "TypeScript", "kind": "constant", "scope": "normalizeJsonFlags", "scopeKind": "function"}, {"_type": "tag", "name": "val", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/hooks/useFeatureFlags.ts", "pattern": "/^    const val = value.trim().toLowerCase();$/", "language": "TypeScript", "kind": "constant", "scope": "coerceToBoolean", "scopeKind": "function"}], "hash": "cf0bc4276f1e7a9a950a91c295feac72", "format-version": 4, "code-base-name": "notes_app_frontend", "filename": "notes_app_frontend/src/hooks/useFeatureFlags.ts", "fields": [{"name": "interface Window {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "__NEXT_PUBLIC_FEATURE_FLAGS__?: unknown;", "scope": "Window", "scopeKind": "interface", "description": "unavailable"}, {"name": "var __NEXT_PUBLIC_FEATURE_FLAGS__: unknown | undefined;", "scope": "", "scopeKind": "", "description": "unavailable"}]}