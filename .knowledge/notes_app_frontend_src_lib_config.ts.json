{"is_source_file": true, "format": "TypeScript", "description": "This file provides centralized configuration utilities for a Next.js-based Notes application, reading environment variables safely for both server-side and client-side usage. It defines types, functions to access environment variables, feature flag checks, and exports a configuration object with various application settings.", "external_files": ["process.env"], "external_methods": ["process.env (NodeJS.ProcessEnv)"], "published": ["appConfig", "getApiBase", "getFrontendBase", "getWsBase", "isFeatureEnabled", "getLogLevel", "LogLevel"], "classes": [], "methods": [{"name": "function readEnv(name: string, fallback?: string): string { readEnv", "description": "Safely reads environment variables, providing a fallback if the variable is undefined or empty.", "scope": "", "scopeKind": ""}, {"name": "function readJsonEnv<T = unknown>(name: string, fallback: T): T { readJsonEnv", "description": "Parses environment variables as JSON with error handling, returning a fallback value if parsing fails or variable is empty.", "scope": "", "scopeKind": ""}, {"name": "export function getApiBase(): string { getApiBase", "description": "Returns the API base URL, preferring environment variables with fallbacks.", "scope": "", "scopeKind": ""}, {"name": "export function getFrontendBase(): string { getFrontendBase", "description": "Returns the frontend base URL, defaulting to an empty string if not set.", "scope": "", "scopeKind": ""}, {"name": "export function getWsBase(): string { getWsBase", "description": "Returns the WebSocket URL, defaulting to an empty string if not set.", "scope": "", "scopeKind": ""}, {"name": "export function isFeatureEnabled(name: string): boolean { isFeatureEnabled", "description": "Checks if a specific feature flag is enabled based on environment configuration.", "scope": "", "scopeKind": ""}, {"name": "export function getLogLevel(): LogLevel { getLogLevel", "description": "Returns the current log level as determined from environment variables.", "scope": "", "scopeKind": ""}], "calls": ["process.env", "readEnv", "readJsonEnv"], "search-terms": ["Next.js environment config", "server-client env sharing", "typed env access", "feature flags", "application configuration", "public environment variables"], "state": 2, "file_id": 17, "knowledge_revision": 44, "git_revision": "", "ctags": [{"_type": "tag", "name": "API_BASE", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^const API_BASE = readEnv(\"NEXT_PUBLIC_API_BASE\") || readEnv(\"NEXT_PUBLIC_BACKEND_URL\") || \"\";$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "ENABLE_SOURCE_MAPS", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^const ENABLE_SOURCE_MAPS = readEnv(\"NEXT_PUBLIC_ENABLE_SOURCE_MAPS\", isDev ? \"true\" : \"false\") =/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "EXPERIMENTS_ENABLED", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^const EXPERIMENTS_ENABLED = readEnv(\"NEXT_PUBLIC_EXPERIMENTS_ENABLED\", \"false\") === \"true\";$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "FEATURE_FLAGS", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^const FEATURE_FLAGS = readJsonEnv<Record<string, boolean>>(\"NEXT_PUBLIC_FEATURE_FLAGS\", {});$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "FRONTEND_URL", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^const FRONTEND_URL = readEnv(\"NEXT_PUBLIC_FRONTEND_URL\", \"\");$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "HEALTHCHECK_PATH", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^const HEALTHCHECK_PATH = readEnv(\"NEXT_PUBLIC_HEALTHCHECK_PATH\", \"\\/api\\/health\");$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "LOG_LEVEL", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^const LOG_LEVEL = (readEnv(\"NEXT_PUBLIC_LOG_LEVEL\", isDev ? \"debug\" : \"warn\").toLowerCase() as L/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "LogLevel", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^type LogLevel = \"silent\" | \"error\" | \"warn\" | \"info\" | \"debug\" | \"trace\";$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "NEXT_TELEMETRY_DISABLED", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^const NEXT_TELEMETRY_DISABLED = readEnv(\"NEXT_PUBLIC_NEXT_TELEMETRY_DISABLED\", \"true\") === \"true/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "NODE_ENV", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^const NODE_ENV = readEnv(\"NEXT_PUBLIC_NODE_ENV\", \"development\");$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "NodeJS", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^  const v = process.env[name as keyof NodeJS.ProcessEnv] as string | undefined;$/", "language": "TypeScript", "kind": "constant", "scope": "readEnv", "scopeKind": "function"}, {"_type": "tag", "name": "PORT", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^const PORT = parseInt(readEnv(\"NEXT_PUBLIC_PORT\", \"3000\"), 10);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "TRUST_PROXY", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^const TRUST_PROXY = readEnv(\"NEXT_PUBLIC_TRUST_PROXY\", \"false\") === \"true\";$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "WS_URL", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^const WS_URL = readEnv(\"NEXT_PUBLIC_WS_URL\", \"\");$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "apiBase", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^  apiBase: getApiBase(),$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "appConfig", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^export const appConfig = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "getApiBase", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^export function getApiBase(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getFrontendBase", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^export function getFrontendBase(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getLogLevel", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^export function getLogLevel(): LogLevel {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getWsBase", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^export function getWsBase(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "isDev", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^  isDev,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "isDev", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^const isDev = NODE_ENV === \"development\";$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "isFeatureEnabled", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^export function isFeatureEnabled(name: string): boolean {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "isProd", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^  isProd,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "isProd", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^const isProd = NODE_ENV === \"production\";$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "isTest", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^  isTest,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "isTest", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^const isTest = NODE_ENV === \"test\";$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^  const v = process.env[name as keyof NodeJS.ProcessEnv] as string | undefined;$/", "language": "TypeScript", "kind": "constant", "scope": "readEnv", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^  const raw = readEnv(name, \"\");$/", "language": "TypeScript", "kind": "constant", "scope": "readJsonEnv", "scopeKind": "function"}, {"_type": "tag", "name": "readEnv", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^function readEnv(name: string, fallback?: string): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "readJsonEnv", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^function readJsonEnv<T = unknown>(name: string, fallback: T): T {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "v", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-197440-197449/notes_app_frontend/src/lib/config.ts", "pattern": "/^  const v = process.env[name as keyof NodeJS.ProcessEnv] as string | undefined;$/", "language": "TypeScript", "kind": "constant", "scope": "readEnv", "scopeKind": "function"}], "hash": "f93fa19b98f1fda4ea14e825aafeb965", "format-version": 4, "code-base-name": "notes_app_frontend", "filename": "notes_app_frontend/src/lib/config.ts", "revision_history": [{"44": ""}]}